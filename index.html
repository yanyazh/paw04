<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="favicon.png">
    <title>PAW Lab 4, YY</title>
  </head>
  <body>
    <div class="area">
      <h1 style="text-align: center" class="headerH1">PAW Laboratorium 4</h1>
      <div id="loadingModal" class="modal">
        <div class="modal-content">
          <p>Loading...</p>
        </div>
      </div>

      <h1>Jokebook</h1>
      <div class="button-container">
        <button onclick="getJoke('funnyJoke')">Losowy Żart: Funny</button>
        <button onclick="getJoke('lameJoke')">Losowy Żart: Lame</button>
      </div>
      <div class="joke-container">
        <p id="joke-text">Wybierz kategorię, aby zobaczyć żart!</p>
      </div>
    
      <script>
        async function getJoke(category) {
          try {
            const response = await fetch(`http://localhost:3000/jokebook/joke/${category}`);
            const data = await response.json();
    
            // Sprawdzenie błędu
            if (data.error) {
              document.getElementById('joke-text').innerText = `Błąd: ${data.error}`;
            } else {
              document.getElementById('joke-text').innerText = `${data.joke}\n${data.response}`;
            }
          } catch (error) {
            document.getElementById('joke-text').innerText = 'Wystąpił błąd podczas ładowania żartu.';
            console.error(error);
          }
        }
      </script>

      </div>
      <div id="answer"></div>
      <script src="script.js"></script>
    </div>
    <p style="text-align: left; margin: 20px;">Wykonane przez: Yan Yazh (173741)</p>
  </body>
</html>
